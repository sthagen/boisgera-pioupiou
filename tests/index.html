
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../images/bird.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Tests - Pioupiou</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#misc-api-tests" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Pioupiou" class="md-header__button md-logo" aria-label="Pioupiou" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m23 11.5-3.05-1.13c-.26-1.15-.91-1.81-.91-1.81a4.189 4.189 0 0 0-5.93 0l-1.48 1.48L5 3c-1 4 0 8 2.45 11.22L2 19.5s8.89 2 14.07-2.05c2.76-2.16 3.38-3.42 3.77-4.75L23 11.5m-5.29.22c-.39.39-1.03.39-1.42 0a.996.996 0 0 1 0-1.41c.39-.39 1.03-.39 1.42 0 .39.39.39 1.02 0 1.41Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pioupiou
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tests
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/boisgera/pioupiou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pioupiou
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Pioupiou" class="md-nav__button md-logo" aria-label="Pioupiou" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m23 11.5-3.05-1.13c-.26-1.15-.91-1.81-.91-1.81a4.189 4.189 0 0 0-5.93 0l-1.48 1.48L5 3c-1 4 0 8 2.45 11.22L2 19.5s8.89 2 14.07-2.05c2.76-2.16 3.38-3.42 3.77-4.75L23 11.5m-5.29.22c-.39.39-1.03.39-1.42 0a.996.996 0 0 1 0-1.41c.39-.39 1.03-.39 1.42 0 .39.39.39 1.02 0 1.41Z"/></svg>

    </a>
    Pioupiou
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/boisgera/pioupiou" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pioupiou
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../height/" class="md-nav__link">
        Height
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gaussians/" class="md-nav__link">
        Gaussians
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../volatility/" class="md-nav__link">
        Volatility
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../distributions/" class="md-nav__link">
        Distributions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../calculus/" class="md-nav__link">
        Calculus
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../universe/" class="md-nav__link">
        The Universe
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tests
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#random-variables" class="md-nav__link">
    Random Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-universe" class="md-nav__link">
    The universe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vectorization" class="md-nav__link">
    Vectorization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomize-everything" class="md-nav__link">
    🎉 Randomize Everything!
  </a>
  
    <nav class="md-nav" aria-label="🎉 Randomize Everything!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#randomization-meets-vectorization" class="md-nav__link">
    Randomization meets Vectorization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#random-variables" class="md-nav__link">
    Random Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-universe" class="md-nav__link">
    The universe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    Constants
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vectorization" class="md-nav__link">
    Vectorization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#randomize-everything" class="md-nav__link">
    🎉 Randomize Everything!
  </a>
  
    <nav class="md-nav" aria-label="🎉 Randomize Everything!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#randomization-meets-vectorization" class="md-nav__link">
    Randomization meets Vectorization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/boisgera/pioupiou/edit/master/mkdocs/tests.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="misc-api-tests">Misc API Tests<a class="headerlink" href="#misc-api-tests" title="Permanent link">&para;</a></h1>
<p><strong>Warning:</strong> this document is a very rough draft.</p>
<pre><code>&gt;&gt;&gt; from pioupiou import *
&gt;&gt;&gt; import pioupiou as pp
&gt;&gt;&gt; import numpy as np
</code></pre>
<h2 id="random-variables">Random Variables<a class="headerlink" href="#random-variables" title="Permanent link">&para;</a></h2>
<h2 id="the-universe">The universe<a class="headerlink" href="#the-universe" title="Permanent link">&para;</a></h2>
<p>A random variable </p>
<pre><code>&gt;&gt;&gt; restart()
&gt;&gt;&gt; U = Uniform(0.0, 1.0)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; u = U(omega)
&gt;&gt;&gt; u
0.6369616873214543

&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; u = U(omega)
&gt;&gt;&gt; u
0.2697867137638703
</code></pre>
<p>The universe is literally the source of the randomness of every variable :
sample <code>Universe</code> to get an <code>omega</code> and use it as an argument of a random
variable.
Once you have create a random variable, you can sample the universe
to get an <code>omega</code> </p>
<pre><code>&gt;&gt;&gt; restart()
&gt;&gt;&gt; U = Uniform(0.0, 1.0)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; u = U(omega)
&gt;&gt;&gt; u
0.6369616873214543
</code></pre>
<hr />
<pre><code>&gt;&gt;&gt; restart()
&gt;&gt;&gt; U1 = Uniform(0.0, 1.0)
&gt;&gt;&gt; omega = Omega(10)
&gt;&gt;&gt; for u1 in U1(omega):
...     print(u1)
0.6369616873214543
0.2697867137638703
0.04097352393619469
0.016527635528529094
0.8132702392002724
0.9127555772777217
0.6066357757671799
0.7294965609839984
0.5436249914654229
0.9350724237877682

&gt;&gt;&gt; restart()
&gt;&gt;&gt; U1 = Uniform(0.0, 1.0)
&gt;&gt;&gt; U2 = Uniform(0.0, U1)
&gt;&gt;&gt; omega = Omega(10)
&gt;&gt;&gt; for u2 in U2(omega):
...     print(u2)
0.5196674564404565
0.0007388109615460543
0.03513087464975646
0.0005550901476646821
0.5934070594518621
0.16033064738516523
0.5236352151856017
0.39499409807791175
0.16293087393547157
0.395243164429411

&gt;&gt;&gt; restart()
&gt;&gt;&gt; N = Normal(1.5, (2.7)**2)
&gt;&gt;&gt; ns = N(Omega(10000))
&gt;&gt;&gt; print("mean:", np.mean(ns))  
mean: 1.4950310577047152
&gt;&gt;&gt; print("std dev:", np.std(ns))
std dev: 2.705182786283677
</code></pre>
<h2 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h2>
<pre><code>&gt;&gt;&gt; import pioupiou as pp; pp.restart()
</code></pre>
<p>Constant distributions :</p>
<pre><code>&gt;&gt;&gt; C = Constant(np.pi)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; C(omega)
3.141592653589793
</code></pre>
<p>Yes, you can randomize a constant random variable ! 😀
This is a bit silly, but since we want to be able to randomize all distribution
parameters, it is the most consistent choice.</p>
<pre><code>&gt;&gt;&gt; X = pp.Uniform()
&gt;&gt;&gt; C = Constant(X)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; X(omega) == C(omega)
True
</code></pre>
<h2 id="vectorization">Vectorization<a class="headerlink" href="#vectorization" title="Permanent link">&para;</a></h2>
<p>Pioupiou supports vectors (NumPy arrays) of (independent) samples :</p>
<pre><code>&gt;&gt;&gt; pp.restart()
</code></pre>
<p>A call to <code>Omega</code> without arguments generate a single sample <code>omega</code>.</p>
<pre><code>&gt;&gt;&gt; X = pp.Uniform()
&gt;&gt;&gt; omega = pp.Omega()
&gt;&gt;&gt; X(omega)
0.6369616873214543
</code></pre>
<p>With an integer size instead, you get one-dimensional arrays of samples :</p>
<pre><code>&gt;&gt;&gt; omega = pp.Omega(1)
&gt;&gt;&gt; X(omega)
array([0.26978671])
&gt;&gt;&gt; omega = pp.Omega(2)
&gt;&gt;&gt; X(omega)
array([0.04097352, 0.01652764])
</code></pre>
<p>Arbitrary shapes are possible with a tuple size :</p>
<pre><code>&gt;&gt;&gt; omega = pp.Omega((2,))
&gt;&gt;&gt; X(omega)
array([0.81327024, 0.91275558])
&gt;&gt;&gt; omega = pp.Omega((2,3))
&gt;&gt;&gt; X(omega)
array([[0.60663578, 0.72949656, 0.54362499],
       [0.93507242, 0.81585355, 0.0027385 ]])
</code></pre>
<h2 id="randomize-everything">🎉 Randomize Everything!<a class="headerlink" href="#randomize-everything" title="Permanent link">&para;</a></h2>
<p>Constants, random variables, functions, etc.</p>
<pre><code>&gt;&gt;&gt; pp.restart()
</code></pre>
<p>The <code>randomize</code> function turns constant values into (constant) random variables :</p>
<pre><code>&gt;&gt;&gt; c = 1.0
&gt;&gt;&gt; C = randomize(1.0)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; C(omega) == c
True
</code></pre>
<p>Obviously, randomizing a random variable doesn't do anything :</p>
<pre><code>&gt;&gt;&gt; U = Uniform()
&gt;&gt;&gt; X = randomize(U)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; X(omega) == U(omega)
True
</code></pre>
<p>Randomizing a function makes it able to take random variables as inputs ;
it then produces a random variable :</p>
<pre><code>&gt;&gt;&gt; @randomize
... def sum(x, c):
...     return x + c
&gt;&gt;&gt; Y = sum(X, C)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; Y(omega) == X(omega) + C(omega)
True
</code></pre>
<p>The randomized function can still accept fixed (non-random) values 
or even a mix of deterministic and random values :</p>
<pre><code>&gt;&gt;&gt; sum(1.0, 2.0) 
3.0
&gt;&gt;&gt; Z = sum(X, 2.0)
&gt;&gt;&gt; omega = Omega()
&gt;&gt;&gt; Z(omega) == X(omega) + 2.0
True
</code></pre>
<h3 id="randomization-meets-vectorization">Randomization meets Vectorization<a class="headerlink" href="#randomization-meets-vectorization" title="Permanent link">&para;</a></h3>
<p>If you want to keep pioupiou happy and working for you, only randomize functions 
that accept NumPy arrays (of consistent sizes). If your function doesn't do that
by default, use the <code>vectorize</code> decorator provided by NumPy before you 
randomize them. 🐥 Please !</p>
<pre><code>&gt;&gt;&gt; pp.restart()
&gt;&gt;&gt; X, Y = pp.Uniform(), pp.Uniform()
</code></pre>
<p>So don't do</p>
<pre><code>&gt;&gt;&gt; @pp.randomize
... def max(x, y):
...     if x &lt;= y:
...         return y
...     else:
...         return x
&gt;&gt;&gt; Z = max(X, Y)
</code></pre>
<p>unless you want to break everything :</p>
<pre><code>&gt;&gt;&gt; omega = pp.Omega()
&gt;&gt;&gt; Z(omega)
0.6369616873214543
&gt;&gt;&gt; omega = pp.Omega(10)
&gt;&gt;&gt; Z(omega) # doctest: +ELLIPSIS
Traceback (most recent call last):
...
ValueError: ...
</code></pre>
<p>But instead do :</p>
<pre><code>&gt;&gt;&gt; pp.restart()
&gt;&gt;&gt; X, Y = pp.Uniform(), pp.Uniform()
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; @pp.randomize
... @np.vectorize
... def max(x, y):
...     if x &lt;= y:
...         return y
...     else:
...         return x
&gt;&gt;&gt; Z = max(X, Y)
</code></pre>
<p>It will work as expected :</p>
<pre><code>&gt;&gt;&gt; omega = pp.Omega(10)
&gt;&gt;&gt; X(omega)
array([0.63696169, 0.26978671, 0.04097352, 0.01652764, 0.81327024,
       0.91275558, 0.60663578, 0.72949656, 0.54362499, 0.93507242])
&gt;&gt;&gt; Y(omega)
array([0.81585355, 0.0027385 , 0.85740428, 0.03358558, 0.72965545,
       0.17565562, 0.86317892, 0.54146122, 0.29971189, 0.42268722])
&gt;&gt;&gt; Z(omega)
array([0.81585355, 0.26978671, 0.85740428, 0.03358558, 0.81327024,
       0.91275558, 0.86317892, 0.72949656, 0.54362499, 0.93507242])
&gt;&gt;&gt; all(max(X(omega), Y(omega)) == Z(omega))
True
</code></pre>
<p><strong>TODO:</strong> document somewhere that additional random variables can make the universe
"grow" and make samples of omega obsolete. The safe way to proceed is to 
model EVERYTHING and then to sample (and of course, adding random variables
that depend deterministically on random variables is OK too).</p>
<p><strong>TODO.</strong> After the randomization of functions that depends deterministically
of their arguments, document the creation of components that inherit from
<code>RandomVariable</code> and can grow the universe (do NOT merely depend on their
arguments, but also on some hidden, random source).</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-05-25
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../universe/" class="md-footer__link md-footer__link--prev" aria-label="Previous: The Universe" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              The Universe
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a6c66575.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>